\include{00-definitions}

\title{Bachelorarbeit: PharoThings-Connectivity SS19}
\begin{document}
	\begin{titlepage}
    \includegraphics[width=0.4\textwidth]{../latex-ai-project/th_logo.png}
    ~\\[2.5cm]
    \begin{center}
    \textbf{\huge Evaluation von Bluetooth, NFC und USB im Rahmen von PharoThings und Android als p2p Verbindung}\\[0.5cm]
    {\Large Bachelorarbeit Informatik}
    \vfill
    \end{center}
    ~\\[2.0cm]
    \begin{flushright}
    {\large vorgelegt von {\bf Jan Phillip Kretzschmar}}\\[0.1cm]
    ~\\[1.5cm]
    {\large Erstprüfer: {\bf Prof. Dr. Christian Kohls}}
    ~\\[0.75cm]
    {\large Zweitprüfer: {\bf Anton Borries}}\\[0.1cm]
    {\large {\it (Zweidenker GmbH)}}\\[0.1cm]

	~\\[1.25cm]
    {\large August 2019}
	\end{flushright}
	\end{titlepage}
	\pagebreak
	\begin{titlepage}
	~\\[7.5cm]
    {\large ADRESSEN}
	~\\[1.0cm]
	\begin{flushright}
    {\large Jan Phillip Kretzschmar}\\[0.1cm]
    {\large Halzenberg 43}\\[0.1cm]
    {\large 42929 Wermelskirchen}\\[0.1cm]
    ~\\[1.0cm]
    {\large Prof. Dr. Christian Kohls}\\[0.1cm]
    {\large Campus Gummersbach}\\[0.1cm]
    {\large Steinmüllerallee 1}\\[0.1cm]
    {\large 51643 Gummersbach}\\[0.1cm]
    ~\\[1.0cm]
    {\large Anton Borries}\\[0.1cm]
    {\large Charlottenstraße 47}\\[0.1cm]
    {\large 40210 Düsseldorf}\\[0.1cm]
    ~\\[1.0cm]
    {\large Zweidenker GmbH}\\[0.1cm]
    {\large Luxemburger Straße 72}\\[0.1cm]
    {\large 50674 Köln}\\[0.1cm]
	 \end{flushright}
    \end{titlepage}
    \pagebreak
    \section*{\contentsname}
    \startcontents
    \printcontents{ }{1}{}
	 \pagebreak
	
    \include{01-einleitung}
    \include{02-warum}
    \include{03-technologien}
    \include{04-umsetzung}
    \include{05-ergebnisse}
    \include{06-fazit}

    \addcontentsline{toc}{section}{\lstlistlistingname}
    \lstlistoflistings
    \addcontentsline{toc}{section}{\listfigurename}
    \listoffigures
    \pagebreak
    
    \addcontentsline{toc}{section}{Literaturverzeichnis}
    \renewcommand\refname{Literaturverzeichnis}
    \begin{thebibliography}{10}
        \bibitem[Aneja et al.]{Aneja}Nagender Aneja und Sapna Gambhir: "Profile-Based Ad Hoc Social Networking Using Wi-Fi Direct on the Top of Android" {\it Mobile Information Systems, Volume 2018, Article ID 9469536, 7 pages} (2018).
        \bibitem[Eberhardt et al.]{Kelm} Udo Eberhardt und Hans Joachim Kelm [Hrsg.]: {\it USB - Universal Serial Bus} Franzis, Poing (1999).
        \bibitem[Esnaashari et al.]{Esnaashari} Shadi Esnaashari, Ian Welch und Peter Komisarczuk: {\it Determining home users' vulnerability to Universal Plug and Play (UPnP) attacks} Erschienen in: Proceedings of the 2013 27th International Conference on Advanced Information Networking and Applications Workshops (WAINA). IEEE, 2013. - S. 725-729. - ISBN 9781467362399 .
        \bibitem[Kaiser et al.]{Kaiser} Daniel Kaiser, Marcel Waldvogel, Holger Strittmatter und Oliver Haese: {\it User-Friendly, Versatile, and Efficient Multi-Link DNS Service Discovery} Erschienen in: Proceedings 2016 IEEE 36th International Conference on Distributed Computing Systems Workshops : ICDCSW 2016. - Piscataway, NJ : IEEE, 2016. - S. 146-155. - ISBN 978-1-5090-3686-8.
        \bibitem[Kaiser, Waldvogel]{Kaiser2} Daniel Kaiser und Marcel Waldvogel: {\it Adding Orivacy to Multicast DNS Service Discovery} Erschienen in: Proceedings - 2014 IEEE 13th International Conference on Trust, Security and Privacy in Computing and Communications (TrustCom) ; Beijing, China, 24 Sep - 26 Sep 2014. - Piscataway : IEEE, 2014. - S. 809-816. - ISBN 978-1-4799-6513-7.
        \bibitem[Langer et al.]{Langer}Josef Langer und Michael Roland: {\it Anwendungen und Technik von Near Field Communication (NFC)} Springer, Heidelberg (2010).
        \bibitem[Lüders]{Lueders}Christian Lüders: {\it Lokale Funknetze: Wireless LANs (IEEE 802.11), Bluetooth, DECT} Vogel, Würzburg (2007).
        \bibitem[Morrow]{Morrow}Robert Morrow: {\it Bluetooth Operation and Use} McGraw-Hill (2002).
        \bibitem[Sauter]{Sauter}Martin Sauter: {\it Grundkurs Mobile Kommunikationssysteme: LTE-Advanced, UMTS, HSPA, GSM, GPRS, Wireless LAN und Bluetooth} 6.Auflage Springer Vieweg, Wiesbaden (2015).
        \bibitem[Sikora]{Sikora}Axel Sikora: {\it Wireless LAN: Protokolle und Anwendungen} Addison-Wesley, München u.A. (2001).
		\bibitem[Kretzschmar]{aiProject} Jan Phillip Kretzschmar: {\it Verbindungskonfiguration von PharoThings auf Raspberry Pi durch Android App} TH Köln, Anhang (2019).
    \end{thebibliography}
    \pagebreak
    
    \addcontentsline{toc}{section}{Internetquellen}
    \renewcommand\refname{Internetquellen}
    \begin{thebibliography}{9}
        \bibitem[Android Bluetooth]{androidBluetooth}\texttt{https://developer.android.com/guide/topics/\linebreak connectivity/bluetooth\#ConnectAsAServer}
        \bibitem[Android Open Accessory]{aoa}\texttt{https://source.android.com/devices/\linebreak accessories/custom}
        \bibitem[AOA Proxy Server]{aoaProxyAccessory}\texttt{https://github.com/timotto/AOA-Proxy/blob/\linebreak master/src/accessory.c} (Zeilen ?)
        \bibitem[Bluetooth Spezifikation]{bluetoothSpec}{\texttt https://www.bluetooth.com/specifications/bluetooth-core-specification/}
        \bibitem[BlueZ 5 Porting]{bluezMigration}\texttt{http://www.bluez.org/bluez-5-api-introduction-and-\linebreak porting-guide/}
        \bibitem[BlueZ SDP]{bluezRfcomm}\texttt{https://people.csail.mit.edu/albert/bluez-intro/x148.html}
        \bibitem[okhttp RealCall]{okhttpRealCall}\texttt{https://github.com/square/okhttp/blob/okhttp\_3.11.x/\linebreak okhttp/src/main/java/okhttp3/RealCall.java} (Zeilen 185-194)
        \bibitem[ITU Study Group]{ituGroup}\texttt{https://www.itu.int/en/ITU-T/about/groups/Pages/sg20.aspx}
        \bibitem[libusb]{libusb}\texttt{http://libusb.sourceforge.net/api-1.0/index.html}
        \bibitem[Pharo Socket Plugin]{pharoSocket}\texttt{https://github.com/pharo-project/pharo-vm/tree/\linebreak master/mc/VMMaker.oscog.package/SocketPlugin.class}
        \bibitem[Microservices]{microservices}\texttt{https://microservices.io/}
        \bibitem[MIT ADK]{mitADK}\texttt{https://stuff.mit.edu/afs/sipb/project/android/docs/tools/\linebreak adk/adk2.html}
        \bibitem[NFC Google Bug]{nfcBug}\texttt{https://issuetracker.google.com/issues/37005118}
        \bibitem[NFC Rates]{nfcRates}\texttt{https://nfc-forum.org/resources/what-are-the-data-\linebreak transmission-rates/}
        \bibitem[NFC Sockets Client]{nfcSocketsClient}\texttt{https://github.com/classycodeoss/nfc-sockets/blob/\linebreak master/android/NFCSockets/app/src/main/java/com/classycode/\linebreak nfcsockets/sockets/NFCSocket.java} (Zeilen ?)
        \bibitem[NFC Sockets Server]{nfcSockets}\texttt{https://github.com/classycodeoss/nfc-sockets/blob/\linebreak master/pn532\_socket\_tunnel/pn532\_socket\_tunnel.c} (Zeilen ?)
        \bibitem[NFC Sockets Blog]{nfcSocketsBlog}\texttt{blog.classycode.com/sockets-over-nfc-on-\linebreak android-c294b6c58bbf}
        \bibitem[NFC-Tools libnfc]{libnfc}\texttt{https://github.com/nfc-tools/libnfc}
        \bibitem[NXP PN532 Datenblatt]{nxpChip}\texttt{https://www.nxp.com/docs/en/nxp/data-sheets/\linebreak PN532\_C1.pdf}
        \bibitem[USB Spezifikation]{usbSpec}\texttt{https://usb.org/documents}
        \bibitem[Wi-Fi Direct Rates]{wifiRate}\texttt{https://www.wi-fi.org/knowledge-center/faq/\linebreak how-fast-is-wi-fi-direct}
    \end{thebibliography}
    \pagebreak
    \addcontentsline{toc}{section}{Anhänge}
    \appendix
    \stopcontents

    \startcontents[sections]
    %\begin{titlepage}
    \section{Anhang: Verbindungskonfiguration von PharoThings auf Raspberry Pi durch Android App}
    \includegraphics[width=0.4\textwidth]{../latex-ai-project/th_logo.png}
    ~\\[2.5cm]
    \begin{center}
    \textbf{\huge Verbindungskonfiguration von PharoThings auf Raspberry Pi durch Android App}\\[0.5cm]
    {\Large Praxisprojekt Sommersemester 2019}
    \vfill
    \end{center}
    ~\\[2.0cm]
    \begin{flushright}
    {\large Jan Phillip Kretzschmar \it{(jan@2denker.de)}}\\[0.1cm]
    ~\\[1.0cm]
    {\large Betreuer (Zweidenker GmbH):}\\[0.1cm]
    {\large Christian Denker \it{(christian@2denker.de)}}
    ~\\[0.5cm]
    {\large Betreuer (TH Köln):}\\[0.1cm]
    {\large Prof. Christian Kohls}\\[0.1cm]

	~\\[1.0cm]
    {\large 30. Juni 2019}
	\end{flushright}
    %\end{titlepage}

    \pagebreak
    \section*{\contentsname}
    \printcontents[sections]{ }{2}{}
    \pagebreak

    \begin{leveldown}
    \input{../latex-ai-project/expose}
    \input{../latex-ai-project/communication}
    \pagebreak
    \input{../latex-ai-project/architecture}
    
	\begin{figure}[ht]
		\centering
	    \includegraphics[width=0.85\textwidth]{../latex-ai-project/IOT-Connectivity-Protocol-Stack}
    	\caption[]{Zu sehen sind die Schnittstellen, die nötig sind, um die Client-Server Anwendung über p2p nutzen zu können. Hierbei stehen alle rot hinterlegten Schnittstellen bereits zur Verfügung. Wenn die genutzte p2p Schnittstelle es nicht erlaubt, TCP/HTTP Pakete an die Ports einer Netzwerkschnittstelle des Servers zu senden, muss ein TCP/HTTP-Wrapper erstellt werden. Andernfalls besteht die Implementierung aus einem gewöhnlichem REST-Client/Server-Paar. Getrennt davon muss jedoch auch innerhalb der Anwendung die p2p-Service-Discovery angebunden werden. }
	    \label{protocol_stack}
	\end{figure}     
    
    \input{../latex-ai-project/implementation}
    
    \begin{figure}[ht]
		\centering
	    \includegraphics[width=1.0\textwidth]{../latex-ai-project/user_flow.png}
    	\caption[]{Der Benutzer sieht zunächst eine Liste an konfigurierbaren Geräten in der Nähe (links oben), durch Auswahl bekommt der Nutzer die Liste der verfügbaren Netzwerkschnittstellen zu sehen (links unten). Sobald auch hier eine Auswahl erfolgt ist, kann der Nutzer eine Liste an verfügbaren und bereits konfigurierten Netzwerken für diesen Netzwerkadapter sehen (mitte). Letztlich kann der Nutzer noch ein Netzwerk durch Eingabe des Passworts konfigurieren (rechts). }
	    \label{user_flow}
	\end{figure}
	
	\input{../latex-ai-project/review}
	
	\pagebreak
    \renewcommand\refname{Quellen}
    \begin{thebibliography}{10}
        \bibitem[Aneja et al.]{AI-Aneja}Nagender Aneja und Sapna Gambhir: "Profile-Based Ad Hoc Social Networking Using Wi-Fi Direct on the Top of Android" {\it Mobile Information Systems, Volume 2018, Article ID 9469536, 7 pages} (2018).
        \bibitem[Eberhardt et al.]{AI-Kelm} Udo Eberhardt und Hans Joachim Kelm [Hrsg.]: {\it USB - Universal Serial Bus} Franzis, Poing (1999).
        \bibitem[Esnaashari et al.]{AI-Esnaashari} Shadi Esnaashari, Ian Welch und Peter Komisarczuk: {\it Determining home users' vulnerability to Universal Plug and Play (UPnP) attacks} Erschienen in: Proceedings of the 2013 27th International Conference on Advanced Information Networking and Applications Workshops (WAINA). IEEE, 2013. - S. 725-729. - ISBN 9781467362399 .
        \bibitem[Kaiser et al.]{AI-Kaiser} Daniel Kaiser, Marcel Waldvogel, Holger Strittmatter und Oliver Haese: {\it User-Friendly, Versatile, and Efficient Multi-Link DNS Service Discovery} Erschienen in: Proceedings 2016 IEEE 36th International Conference on Distributed Computing Systems Workshops : ICDCSW 2016. - Piscataway, NJ : IEEE, 2016. - S. 146-155. - ISBN 978-1-5090-3686-8.
        \bibitem[Kaiser, Waldvogel]{AI-Kaiser2} Daniel Kaiser und Marcel Waldvogel: {\it Adding Orivacy to Multicast DNS Service Discovery} Erschienen in: Proceedings - 2014 IEEE 13th International Conference on Trust, Security and Privacy in Computing and Communications (TrustCom) ; Beijing, China, 24 Sep - 26 Sep 2014. - Piscataway : IEEE, 2014. - S. 809-816. - ISBN 978-1-4799-6513-7.
        \bibitem[Langer et al.]{AI-Langer}Josef Langer und Michael Roland: {\it Anwendungen und Technik von Near Field Communication (NFC)} Springer, Heidelberg (2010).
        \bibitem[Lüders]{AI-Lueders}Christian Lüders: {\it Lokale Funknetze: Wireless LANs (IEEE 802.11), Bluetooth, DECT} Vogel, Würzburg (2007).
        \bibitem[Morrow]{AI-Morrow}Robert Morrow: {\it Bluetooth Operation and Use} McGraw-Hill (2002).
        \bibitem[Sauter]{AI-Sauter}Martin Sauter: {\it Grundkurs Mobile Kommunikationssysteme: LTE-Advanced, UMTS, HSPA, GSM, GPRS, Wireless LAN und Bluetooth} 6.Auflage Springer Vieweg, Wiesbaden (2015).
        \bibitem[Sikora]{AI-Sikora}Axel Sikora: {\it Wireless LAN: Protokolle und Anwendungen} Addison-Wesley, München u.A. (2001).
		\bibitem[Townsend et al.]{AI-Townsend} Kevin Townsend, Carles Cuffí, Akiba und Robert Davidson: {\it Getting Started with Bluetooth Low Energy} O'Reilly (2014).
		
		\bibitem[Android Koin]{AI-androidKoin}https://insert-koin.io/
		\bibitem[Android Koin Speed]{AI-androidKoinSpeed}https://medium.com/koin-developers/ready-for-koin-2-0-2722ab59cac3
        \bibitem[Android Accessory]{AI-AOA}https://source.android.com/devices/accessories/custom
        \bibitem[Android OkHttp]{AI-AndroidOkHttp}https://github.com/square/okhttp
        \bibitem[Android Permissions]{AI-androidRights}https://elinux.org/Android\_Security\#Paranoid\_network-ing
        \bibitem[Android Repository]{AI-androidRepo}https://android.googlesource.com/platform/frameworks/base
        \bibitem[iot-connectivity]{AI-main-repository}https://github.com/janphkre/iot-connectivity
        \bibitem[iot-p2p-test]{AI-test-repository}https://github.com/janphkre/iot-p2p-test
        \bibitem[JSON Schema]{AI-JsonSchema}https://json-schema.org/
        \bibitem[Linux Packet]{AI-linuxPacket}http://man7.org/linux/man-pages/man7/packet.7.html
        \bibitem[OpenAPI]{AI-OpenApi}https://swagger.io/docs/specification/about/
        \bibitem[Pharo]{AI-pharo}http://pharo.org/
        \bibitem[Pharo OpenAPI]{AI-pharoOpenApi}https://github.com/zweidenker/openapi
        \bibitem[Pharo Things]{AI-pharoThings}https://github.com/pharo-iot/PharoThings
        \bibitem[Pharo Zinc]{AI-pharoZinc}https://github.com/zweidenker/zinc/
        \bibitem[WiFi Direct]{AI-wifiDirect}https://www.wi-fi.org/discover-wi-fi/wi-fi-direct
        \bibitem[WiFi HostAP Repository]{AI-hostAp}git://w1.fi/hostap.git
        \bibitem[WiFi wpa\_supplicant]{AI-wpaSupplicant}https://w1.fi/wpa\_supplicant/
        \bibitem[Zweidenker]{AI-zweidenker}https://zweidenker.de
    \end{thebibliography}
    \end{leveldown}
    \stopcontents[sections]

    \begin{titlepage}
    \section*{Eidesstattliche Erklärung}
    Ich versichere hiermit, die vorgelegte Arbeit in dem gemeldeten Zeitraum ohne fremde Hilfe verfasst und mich keiner anderen als der angegebenen Hilfsmittel und Quellen bedient zu haben.
    ~\\[1.0cm]
    \begin{flushright}
    Wermelskirchen, den 23. August 2019
    ~\\[1.0cm]
    \rule{8cm}{1pt}\linebreak
    Jan Phillip Kretzschmar
    \end{flushright}
    \end{titlepage}
\end{document}
